<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="com.gms.web.mapper.MemberMapper">
	<select id="count" resultType="string">
		SELECT COUNT(*) AS COUNT FROM MEMBER
	</select>
	
	<select id="login" resultType="com.gms.web.member.MemberDTO" parameterType="com.gms.web.command.CommandDTO">
		 SELECT member_id as id,
				pw,
				ssn,
				name,
				regdate,
				phone,
				email,
				profile
				FROM Member WHERE member_id = #{search}
	</select>
	<select id="selectAll" resultType="com.gms.web.member.StudentDTO" parameterType="com.gms.web.command.CommandDTO">
		select t.num, t.* 
      	from (select @rownum := @rownum +1 num, s.* 
        	from (select @rownum := 0) r, student s )t
        where t.num between #{startRow} and #{endRow}
	</select>
		<select id="selectByName" resultType="com.gms.web.member.StudentDTO" parameterType="com.gms.web.command.CommandDTO">
		select t.num, t.* 
      	from (select @rownum := @rownum +1 num, s.* 
        	from (select @rownum := 0) r, student s )t
        where t.name like '%${search}%';
        
	</select>
	
</mapper>